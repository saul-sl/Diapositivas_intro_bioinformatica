<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Tarea 1: Instalación de programas</title>
<meta name="author" content="Saul Sotomayor Leyton"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/reveal.css"/>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/theme/dracula.css" id="theme"/>

<link rel="stylesheet" href="./plugin_extra/customcontrols/style.css"/>

<link rel="stylesheet" href="./personal/css/icustom.css"/>

<link rel="stylesheet" href="./plugin_extra/drawer/drawer.css"/>

<link rel="stylesheet" href="./plugin_extra/pointer/pointer.css"/>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"/>

<!-- If the query includes 'print-pdf', include the PDF print sheet -->
<script>
    if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = 'https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    }
</script>
<meta name="description" content="Instalación de programas">
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide"><h1 class="title">Tarea 1: Instalación de programas</h1><p class="subtitle"></p>
<h2 class="author">Saul Sotomayor Leyton</h2><h2 class="date">2024-05-01</h2>
</section>
<section>
<section id="slide-org52ab818">
<h2 id="org52ab818">Contenido</h2>
<div class="outline-text-2" id="text-org52ab818">
</div>
</section>
</section>
<section>
<section id="slide-orgaf5884d" class="stretch">
<h3 id="orgaf5884d">Contenido</h3>
<div class="content-size dFlex-evenly dFlex-col" id="orgf313632">
<ul>
<li>Instalación de miniconda
<ul>
<li>Linux</li>

</ul></li>
<li>Creación de entornos virtuales
<ul>
<li><code>rnaseq_map</code> (Mapeo de secuencias)</li>
<li><code>rnaseq_r</code> (Visualización de resultados)</li>

</ul></li>
<li>Instalación de librerias en R
<ul>
<li>Instalación de <code>bioconductor</code></li>
<li>Solución de problemas</li>

</ul></li>
<li>Verificar la instalación
<ul>
<li>Confirmar la disponibilidad de programas y librerías</li>

</ul></li>

</ul>

</div>
</section>
</section>
<section>
<section id="slide-org88ed63e">
<h2 id="org88ed63e">Anaconda y miniconda</h2>
<div class="outline-text-2" id="text-org88ed63e">
</div>
</section>
</section>
<section>
<section id="slide-org2d1b975" class="stretch">
<h3 id="org2d1b975">Descripción</h3>
<div class="content-size dFlex-evenly text-md dFlex-col" id="org6a26bda">
<blockquote >
<p>
<code>Anaconda</code> es una distribución de los lenguajes <code>Python</code> y <code>R</code> para  aplicaciones  científicas/investigación <i>e.g.</i>, ciencia de datos, machine learning o bioinformática. El último mediante la adición de  fuentes (<i>canales</i>) específicos
</p>
</blockquote>
<ul>
<li><code>Miniconda</code> es una versión reducida de <code>Anaconda</code> que solo cuenta con paquetes esenciales (menos uso de disco)
<ul>
<li>Programas adicionales pueden ser instalados posteriormente</li>

</ul></li>

</ul>

</div>
</section>
</section>
<section>
<section id="slide-org84673ca" class="stretch">
<h3 id="org84673ca">Instalación</h3>
<div class="content-size dFlex-evenly text-md dFlex-col" id="org4403692">
<blockquote >
<p>
Instrucciones [Inglés]
<a href="https://docs.anaconda.com/free/miniconda/miniconda-install/">https://docs.anaconda.com/free/miniconda/miniconda-install/</a>
</p>
</blockquote>
<ul>
<li>Instalador windows: <a href="https://repo.anaconda.com/miniconda/Miniconda3-latest-Windows-x86_64.exe">https://repo.anaconda.com/miniconda/Miniconda3-latest-Windows-x86_64.exe</a></li>
<li>Instalador linux: <a href="https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh">https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh</a></li>

</ul>

</div>
</section>
</section>
<section>
<section id="slide-org88e8952">
<h2 id="org88e8952">Creación de entornos virtuales</h2>
<div class="outline-text-2" id="text-org88e8952">
</div>
</section>
</section>
<section>
<section id="slide-orgf707a2c" class="stretch">
<h3 id="orgf707a2c">Descripción</h3>
<div class="content-size dFlex-evenly text-md dFlex-col" id="orgb5967d5">
<blockquote >
<p>
Un entorno virtual puede ser definido como un directorio que aísla una instalación particular de Python incluidas sus dependencias y paquetes asociados
</p>
</blockquote>
<ul>
<li>El uso de entornos virtuales permite:
<ul>
<li>Tener varias versiones de programas</li>
<li>Entornos reproducibles</li>
<li>Sistema más organizado (Instalación, desinstalación)</li>

</ul></li>

</ul>

</div>
</section>
</section>
<section>
<section id="slide-orgd93f238" class="stretch">
<h3 id="orgd93f238">Canales de paquetes</h3>
<div class="content-size dFlex-evenly text-md dFlex-col" id="org3037b48">
<blockquote >
<p>
Un <i>canal</i> indica al administrador de paquetes el lugar donde encontrar librerias/programas. Un ejemplo es el canal <code>bioconda</code> el cual almacena paquetes relacionados a las ciencias biomédicas. Otro es <code>conda-forge</code> el cual está dirigido por la comunidad de usuarios 
</p>
</blockquote>

<ul>
<li>En la línea de comandos ejecutar:</li>

</ul>
<div class="org-src-container">

<pre  class="src src-bash"   ><code trim><span style="color: #92454f; font-style: italic;"># </span><span style="color: #92454f; font-style: italic;">A&#241;ade el canal por defecto (defaults) a la lista de canales</span>
conda config --add channels defaults

<span style="color: #92454f; font-style: italic;"># </span><span style="color: #92454f; font-style: italic;">A&#241;ade el canal bioconda a la lista de canales</span>
conda config --add channels bioconda

<span style="color: #92454f; font-style: italic;"># </span><span style="color: #92454f; font-style: italic;">A&#241;ade el canal conda-forge a la lista de canales</span>
conda config --add channels conda-forge
</code></pre>
</div>

</div>
</section>
</section>
<section>
<section id="slide-orgf139787" class="stretch">
<h3 id="orgf139787">Creación de entornos virtuales</h3>
<div class="content-size dFlex-evenly text-md dFlex-col" id="org00254c3">
<ul>
<li>Se crearán 2 entornos,
<ul>
<li><code>rnaseq_map</code>: Orientado al mapeo de sequencias de RNA</li>
<li><code>rnaseq_r</code>: Orientado principalmente a la visualización de resultados</li>

</ul></li>

<li>En la línea de comandos ejecutar:</li>

</ul>
<div class="org-src-container">

<pre  class="src src-bash"   ><code trim><span style="color: #92454f; font-style: italic;"># </span><span style="color: #92454f; font-style: italic;">Creaci&#243;n del entorno mi_entorno</span>
conda create --name mi_entorno <span style="color: #007faa;">python</span>=3.x -y

<span style="color: #92454f; font-style: italic;"># </span><span style="color: #92454f; font-style: italic;">Activar el entorno</span>
conda activate mi_entorno

<span style="color: #92454f; font-style: italic;"># </span><span style="color: #92454f; font-style: italic;">Instalaci&#243;n de paquetes desde un canal espec&#237;fico</span>
conda install -c mi_canal mi_paquete -y
</code></pre>
</div>

</div>
</section>
<section id="slide-org620f03a" class="stretch">
<h4 id="org620f03a">Creación de entornos virtuales (Cont.)</h4>
<div class="content-size dFlex-centered text-md dFlex-col" id="org278aa70">
<ul>
<li><p>
En la línea de comandos ejecutar:
</p>
<div class="org-src-container">

<pre  class="src src-bash"   ><code trim><span style="color: #92454f; font-style: italic;"># </span><span style="color: #92454f; font-style: italic;">Creaci&#243;n del entorno rnaseq_map y activaci&#243;n</span>
conda create --name rnaseq_map <span style="color: #007faa;">python</span>=3.11 -y
conda activate rnaseq_map

<span style="color: #92454f; font-style: italic;"># </span><span style="color: #92454f; font-style: italic;">Instalaci&#243;n de paquetes</span>
conda install -c conda-forge pigz -y
conda install -c bioconda entrez-direct fastqc fastp stringtie gffcompare hisat2 subread samtools -y

<span style="color: #92454f; font-style: italic;"># </span><span style="color: #92454f; font-style: italic;">Desactivar el entorno rnaseq_map</span>
conda deactivate

<span style="color: #92454f; font-style: italic;"># </span><span style="color: #92454f; font-style: italic;">Creaci&#243;n del entorno rnaseq_r y activaci&#243;n</span>
conda create --name rnaseq_r <span style="color: #007faa;">python</span>=3.11 -y
conda activate rnaseq_r

<span style="color: #92454f; font-style: italic;"># </span><span style="color: #92454f; font-style: italic;">Instalaci&#243;n de paquetes</span>
conda install -c anaconda libxml2 -y
conda install -c conda-forge pkg-config=0.29.2 r-curl=5.2.1 r-base=4.4.1 -y

<span style="color: #92454f; font-style: italic;"># </span><span style="color: #92454f; font-style: italic;">Desactivar el entorno rnaseq_map</span>
conda deactivate
</code></pre>
</div></li>

</ul>

</div>
</section>
</section>
<section>
<section id="slide-org02e6cb4">
<h2 id="org02e6cb4">Instalación de librerias en <code>R</code></h2>
<div class="outline-text-2" id="text-org02e6cb4">
</div>
</section>
</section>
<section>
<section id="slide-org2225703" class="stretch">
<h3 id="org2225703">Instalación de <code>bioconductor</code></h3>
<div class="content-size dFlex-evenly text-md dFlex-col" id="org363416b">
<blockquote >
<p>
<code>bioconductor</code> es un repositorio de paquetes (<i>librerias</i>) orientados al análisis bioinformático.
</p>
</blockquote>

<ul>
<li>La versión a instalarse depende de la versión de <code>R</code> (<code>r-base</code>) que se tenga instalada</li>
<li>Aún así es posible que algunas librerias no puedan ser instaladas</li>
<li><p>
En una sesión de R (<code>rnaseq_r</code>) ejecutar
</p>
<div class="org-src-container">

<pre  class="src src-R"   ><code trim><span style="color: #92454f; font-style: italic;">## </span><span style="color: #92454f; font-style: italic;">Instalar Bioconductor (Nota la versi&#243;n)</span>
<span style="color: #aa0010; font-weight: bold;">if</span> (!<span style="color: #c50f4f;">require</span>(<span style="color: #2070af;">"BiocManager"</span>, quietly = <span style="color: #2f5faf;">TRUE</span>))
  install.packages(<span style="color: #2070af;">"BiocManager"</span>)
BiocManager::install(version = <span style="color: #2070af;">"3.19"</span>)

<span style="color: #92454f; font-style: italic;">## </span><span style="color: #92454f; font-style: italic;">Crear una lista de librerias a instalar</span>
ipackages <span style="color: #c50f4f;">&lt;-</span> c(<span style="color: #2070af;">"DESeq2"</span>,<span style="color: #2070af;">"vsn"</span>, <span style="color: #2070af;">"ggplot2"</span>,<span style="color: #2070af;">"tidyverse"</span>,<span style="color: #2070af;">"devtools"</span>, <span style="color: #2070af;">"ballgown"</span>, <span style="color: #2070af;">"genefilter"</span>)
<span style="color: #92454f; font-style: italic;">## </span><span style="color: #92454f; font-style: italic;">Instalar la lista con el administrador de paquetes de Bioconductor</span>
BiocManager::install(ipackages)
</code></pre>
</div></li>

</ul>

</div>
</section>
<section id="slide-org2e5dced" class="stretch">
<h4 id="org2e5dced">Solución de problemas</h4>
<div class="content-size dFlex-evenly text-md dFlex-col" id="org374fd5e">
<blockquote >
<p>
El 26 de abril 2024 se publicó una nueva versión de la librería <code>MASS</code> la cual requiere la versión de <code>R</code> <code>=&gt;4.4.0</code>. Sin embargo la versión más actual que se encontraba en anaconda era <code>4.3.0</code>. Como esta librería es requerida fue necesario instalar una versión anterior (Incluidas otras dependencias).
</p>

<p>
Actualmente (Agosto 2024) está disponible la versión de <code>R=4.4.1</code> por lo que no es necesario instalar una versión antigua de las librerias anteriores sin embargo, creo que el saber como instalar paquetes antiguos puede ser de utilidad
</p>
</blockquote>

</div>
</section>
<section id="slide-org3e3e73b" class="stretch">
<h4 id="org3e3e73b">Instalación de paquetes antiguos en R</h4>
<div class="content-size dFlex-evenly text-md dFlex-col" id="orgc1b33d5">
<ul>
<li>Obtener la dirección <code>url</code> de una versión anterior y específica de la librería (<code>lbr</code>)
<ul>
<li>Buscar la librería (por nombre): <a href="https://cran.r-project.org/web/packages/available_packages_by_name.html">https://cran.r-project.org/web/packages/available_packages_by_name.html</a></li>
<li>Buscar la versión en:  <a href="https://cran.r-project.org/src/contrib/Archive/lbr">https://cran.r-project.org/src/contrib/Archive/lbr</a>
<ul>
<li>Ej. <a href="https://cran.r-project.org/src/contrib/Archive/MASS">https://cran.r-project.org/src/contrib/Archive/MASS</a></li>

</ul></li>

</ul></li>
<li>Para solucionar el problema anterior es necesario instalar las siguientes librerías:</li>

</ul>
<ul class="dFlex-row">
<li>MASS</li>
<li>Matrix</li>
<li>lattice</li>

</ul>

</div>
</section>
<section id="slide-org84d8463" class="stretch">
<h4 id="org84d8463">Instalación de paquetes antiguos en R</h4>
<div class="content-size dFlex-evenly text-md dFlex-col" id="orgc3c06dd">
<ul>
<li>En una sesión de R ejecutar el siguiente comando especificando la librería (<code>&lt;libreria&gt;</code>) y la versión (<code>&lt;version&gt;</code>) a instalar</li>

</ul>
<div class="org-src-container">

<pre  class="src src-R"   ><code trim>lbr_url=<span style="color: #2070af;">"https://cran.r-project.org/src/contrib/Archive/&lt;libreria&gt;/&lt;libreria&gt;_&lt;version&gt;.tar.gz"</span>
install.packages(lbr_url, repos=<span style="color: #2f5faf;">NULL</span>, type=<span style="color: #2070af;">"source"</span>)
</code></pre>
</div>
<ul>
<li>Para simplificar en caso de varias librerías</li>

</ul>
<div class="org-src-container">

<pre  class="src src-R"   ><code trim>librerias <span style="color: #c50f4f;">&lt;-</span> c(<span style="color: #2070af;">"https://cran.r-project.org/src/contrib/Archive/MASS/MASS_7.3-60.0.1.tar.gz"</span>,
               <span style="color: #2070af;">"https://cran.r-project.org/src/contrib/Archive/lattice/lattice_0.22-5.tar.gz"</span>,
               <span style="color: #2070af;">"https://cran.r-project.org/src/contrib/Archive/Matrix/Matrix_1.6-5.tar.gz"</span>)
<span style="color: #aa0010; font-weight: bold;">for</span> (lbr_url <span style="color: #aa0010; font-weight: bold;">in</span> librerias) {
  install.packages(lbr_url, repos=<span style="color: #2f5faf;">NULL</span>, type=<span style="color: #2070af;">"source"</span>)
}
</code></pre>
</div>

</div>
</section>
</section>
<section>
<section id="slide-orgcd41fa8">
<h2 id="orgcd41fa8">Verificar la instalación</h2>
<div class="outline-text-2" id="text-orgcd41fa8">
</div>
</section>
</section>
<section>
<section id="slide-orgf612f98" class="stretch">
<h3 id="orgf612f98">Confirmar que los programas y librerias están disponibles</h3>
<div class="content-size dFlex-evenly text-md dFlex-col" id="orgb894d0a">
<ul>
<li><p>
En la linea de comandos activar el entorno y listar un programa determinado
</p>
<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>conda activate rnaseq_map
<span style="color: #92454f; font-style: italic;"># </span><span style="color: #92454f; font-style: italic;">Hacer una lista de paquetes y buscar 'subread' [Existe]</span>
conda list | grep subread

<span style="color: #92454f; font-style: italic;"># </span><span style="color: #92454f; font-style: italic;">Hacer una lista de paquetes y buscar 'bowtie2' [NO Existe]</span>
conda list | grep bowtie2
</code></pre>
</div></li>

<li><p>
En una sesión de <code>R</code> cargar las librerias
</p>
<div class="org-src-container">

<pre  class="src src-R"   ><code trim><span style="color: #92454f; font-style: italic;">## </span><span style="color: #92454f; font-style: italic;">Cargar la libreria 'MASS' [Existe]</span>
<span style="color: #c50f4f;">library</span>(<span style="color: #2070af;">"MASS"</span>)

<span style="color: #92454f; font-style: italic;">## </span><span style="color: #92454f; font-style: italic;">Cargar la libreria 'biomaRt' [NO Existe]</span>
<span style="color: #c50f4f;">library</span>(<span style="color: #2070af;">"biomaRt"</span>)

<span style="color: #92454f; font-style: italic;">## </span><span style="color: #92454f; font-style: italic;">Verificar la versi&#243;n de la libreria MASS</span>
packageVersion(<span style="color: #2070af;">"MASS"</span>)
</code></pre>
</div></li>

</ul>

</div>
</section>
</section>
<section>
<section id="slide-org1f9b555" class="stretch">
<h2 id="org1f9b555">Recursos en línea</h2>
<div class="content-size dFlex-evenly text-md dFlex-col" id="org7c15ef6">
<ul>
<li>Bioconductor: <a href="https://www.bioconductor.org/">https://www.bioconductor.org/</a></li>
<li>Anaconda
<ul>
<li>Administración de canales: <a href="https://docs.anaconda.com/free/navigator/tutorials/manage-channels/">https://docs.anaconda.com/free/navigator/tutorials/manage-channels/</a></li>
<li>Bioconda: <a href="https://bioconda.github.io/">https://bioconda.github.io/</a></li>
<li>Conda-Forge: <a href="https://conda-forge.org/">https://conda-forge.org/</a></li>

</ul></li>
<li>R
<ul>
<li>Instalar paquetes antiguos R: <a href="https://stackoverflow.com/questions/17082341/installing-older-version-of-r-package#17082609">https://stackoverflow.com/questions/17082341/installing-older-version-of-r-package#17082609</a></li>

</ul></li>

</ul>

</div>
</section>
</section>
</div>
</div>
<p>Creado por ssl</p>
<script src="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/reveal.js"></script>
<script src="./plugin_extra/menu/menu.js"></script>
<script src="./plugin_extra/customcontrols/plugin.js"></script>
<script src="./plugin_extra/drawer/drawer.js"></script>
<script src="./plugin_extra/pointer/pointer.js"></script>

<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({
width:1200, height:800, minScale:0.2, maxScale:2.5, transition: 'fade', progress:true, history:true, center:true, mouseWheel:false, menu:{themes:true, themesPath:'https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/theme/', transitions:true, markers:true, custom: false, hideMissingTitles:true}, customcontrols:{controls:[{id:'toggle-overview', title:'Toggleoverview(O)', icon:'<i class="fa fa-th"></i>', action:'Reveal.toggleOverview();'}, {icon:'<i class="fa fa-message"></i>', title:'Toggle iframe legend', action:'ilegend()'}]}, pointer: {key: "q", color: "red", pointerSize: 16, alwaysVisible: false, tailLength: 10}, plugins: [ RevealMenu, RevealCustomControls, RevealPointer, RevealDrawer ],

// Optional libraries used to extend on reveal.js
dependencies: [
 { src: 'https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
 { src: 'https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
 { src: 'https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
 { src: 'https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }]

});

</script>
<script src="./personal/js/icustom.js"></script>
</body>
</html>
